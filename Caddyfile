{
    auto_https off
    admin off
    
    frankenphp {
        worker /app/public/index.php
    }
}

:{$PORT:8080} {
    root * /app/public
    encode zstd gzip
    
    # Serve static files directly
    @static {
        file
        path *.css *.js *.ico *.gif *.jpg *.jpeg *.png *.svg *.woff *.woff2 *.pdf
    }
    handle @static {
        file_server
    }
    
    # Handle all other requests with PHP
    handle {
        php_server
    }
    
    # Security headers
    header {
        X-Content-Type-Options "nosniff"
        X-Frame-Options "SAMEORIGIN"
        -Server
    }
    
    # Logging
    log {
        output stdout
        format console
    }
}
